
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>深入浅出OAuth 2.0授权机制 | Coding | Harrison&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="baidu-site-verification" content="0aFfZiB4tV" />
  
  
  <meta name="description" content="前言举个简单的例子。新浪微博是你的家，有时候你会想让一些人(第三方应用)去你的家里帮你办点事情，或者取点东西。你可以直接复制一把钥匙(用户名和密码)给他们，但这里存在几个问题：">
<meta name="keywords" content="OAuth 2.0">
<meta property="og:type" content="article">
<meta property="og:title" content="深入浅出OAuth 2.0授权机制">
<meta property="og:url" content="https://ostenant.coding.me/2018/01/04/深入浅出OAuth 2.0授权机制/index.html">
<meta property="og:site_name" content="Coding | Harrison&#39;s Blog">
<meta property="og:description" content="前言举个简单的例子。新浪微博是你的家，有时候你会想让一些人(第三方应用)去你的家里帮你办点事情，或者取点东西。你可以直接复制一把钥匙(用户名和密码)给他们，但这里存在几个问题：">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://ols3fdyll.bkt.clouddn.com/oauth_log.png">
<meta property="og:image" content="http://ols3fdyll.bkt.clouddn.com/google_photogragh.png">
<meta property="og:image" content="http://ols3fdyll.bkt.clouddn.com/oauth_details_steps.png">
<meta property="og:image" content="http://ols3fdyll.bkt.clouddn.com/authorization_code_mode.png">
<meta property="og:image" content="http://ols3fdyll.bkt.clouddn.com/implicit_mode.png">
<meta property="og:image" content="http://ols3fdyll.bkt.clouddn.com/crediential_grant_mode.png">
<meta property="og:image" content="http://ols3fdyll.bkt.clouddn.com/client_mode.png">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/10548396-035e78bdc34c7525?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:updated_time" content="2018-05-08T02:49:46.097Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="深入浅出OAuth 2.0授权机制">
<meta name="twitter:description" content="前言举个简单的例子。新浪微博是你的家，有时候你会想让一些人(第三方应用)去你的家里帮你办点事情，或者取点东西。你可以直接复制一把钥匙(用户名和密码)给他们，但这里存在几个问题：">
<meta name="twitter:image" content="http://ols3fdyll.bkt.clouddn.com/oauth_log.png">
  
    <link rel="alternative" href="/atom.xml" title="Coding | Harrison&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
 
</head>
<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Coding | Harrison&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">上善若水任方猿</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">主页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="https://github.com/ostenant">Github</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
          <input type="submit" value="" class="search-form-submit">
          <input name=tn type=hidden value="bds">
          <input name=cl type=hidden value="3">
          <input name=ct type=hidden value="2097152">
          <input type="hidden" name="si" value="ostenant.coding.me">
        </form>
      </div>
    </div>
  </div>
</header>
    <div class="outer">
      <section id="main"><article id="post-深入浅出OAuth 2.0授权机制" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/01/04/深入浅出OAuth 2.0授权机制/" class="article-date">
  <time datetime="2018-01-04T13:10:00.000Z" itemprop="datePublished">2018-01-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/认证与授权系列/">认证与授权系列</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      深入浅出OAuth 2.0授权机制
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>举个简单的例子。新浪微博是你的家，有时候你会想让一些人(第三方应用)去你的家里帮你办点事情，或者取点东西。你可以直接复制一把钥匙(用户名和密码)给他们，但这里存在几个问题：</p>
<a id="more"></a>
<ol>
<li>别人拿了钥匙后可以去你家里的所有房间。</li>
<li>别人拿到你的钥匙后也许会不小心丢到，甚至故意送到它人手里。这样你都不知到谁有你家钥匙。</li>
<li>过一段时间你也许会想要回自己的钥匙，但别人不还怎么办？</li>
</ol>
<blockquote>
<p>总结起来就是两个问题：其一，拿到钥匙的人权限太大，可以进入任一房间；其二，拿到钥匙的人可能对钥匙进行复制和更改。</p>
</blockquote>
<p>OAuth是高级钥匙，可以理解为指纹识别，它主要解决了以上的缺陷：</p>
<ol>
<li>你可以配置不同权限的钥匙。有些只能进大厅(读取你的微博流)。有些钥匙可以进储藏柜(读取你的相片)。</li>
<li>钥匙上带着指纹验证程序(指纹 = appkey)，只有收到钥匙的人自己能使用钥匙。</li>
<li>钥匙有一定的时效性，同时你也可以远程废除钥匙。</li>
</ol>
<h1 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h1><p><code>OAuth</code>是一个关于<strong>授权</strong>(<code>authorization</code>)的开放网络标准，在全世界得到广泛应用，目前的版本是<code>2.0</code>版。<br>本文对<code>OAuth 2.0</code>的设计思路和运行流程，做一个简明通俗的解释。</p>
<p><img src="http://ols3fdyll.bkt.clouddn.com/oauth_log.png" alt=""></p>
<h2 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h2><p>为了理解<code>OAuth</code>的适用场景，举一个通俗易懂的例子。<br>有一个”云冲印”的网站，可以将用户储存在Google的照片，冲印出来。用户为了使用该服务，必须让”云冲印”读取自己储存在Google上的照片。</p>
<p><img src="http://ols3fdyll.bkt.clouddn.com/google_photogragh.png" alt=""></p>
<p>问题是只有得到用户的授权，Google才会同意”云冲印”读取这些照片。那么，”云冲印”怎样获得用户的授权呢？<br>传统方法是，用户将自己的Google用户名和密码，告诉”云冲印”，后者就可以读取用户的照片了。这样的做法有以下几个严重的缺点。</p>
<pre><code>1. &quot;云冲印&quot;为了后续的服务，会保存用户的密码，这样很不安全。
2. Google不得不部署密码登录，而我们知道，单纯的密码登录并不安全。
3. &quot;云冲印&quot;拥有了获取用户储存在Google所有资料的权利，用户没法限制&quot;云冲印&quot;获得授权的范围和有效期。
4. 用户只有修改密码，才能收回赋予&quot;云冲印&quot;的权力。但是这样做，会使得其他所有获得用户授权的第三方应用程序全部失效。
5. 只要有一个第三方应用程序被破解，就会导致用户密码泄漏，以及所有被密码保护的数据泄漏。
</code></pre><p>OAuth就是为了解决上面这些问题而诞生的。</p>
<h2 id="专业术语"><a href="#专业术语" class="headerlink" title="专业术语"></a>专业术语</h2><p>在详细讲解<code>OAuth 2.0</code>之前，需要了解几个专用名词。它们对读懂后面的讲解，尤其是几张图，至关重要。</p>
<table>
<thead>
<tr>
<th>专业术语</th>
<th>中文含义</th>
<th>具体解释说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Third-party application</td>
<td>第三方应用程序</td>
<td>本文中又称”客户端”(client)，即上一节例子中的”云冲印”</td>
</tr>
<tr>
<td>Resource Owner</td>
<td>资源所有者</td>
<td>本文中又称”用户”(user)。</td>
</tr>
<tr>
<td>HTTP service</td>
<td>HTTP服务提供商</td>
<td>本文中简称”服务提供商”，即上一节例子中的Google。</td>
</tr>
<tr>
<td>User Agent</td>
<td>用户代理</td>
<td>本文中就是指浏览器。</td>
</tr>
<tr>
<td>Authorization server</td>
<td>认证服务器</td>
<td>即服务提供商专门用来处理认证的服务器。</td>
</tr>
<tr>
<td>Resource server</td>
<td>资源服务器</td>
<td>即服务提供商存放用户生成的资源的服务器。它与认证服务器，可以是同一台服务器，也可以是不同的服务器。</td>
</tr>
</tbody>
</table>
<h2 id="OAuth的思路"><a href="#OAuth的思路" class="headerlink" title="OAuth的思路"></a>OAuth的思路</h2><p><code>OAuth</code>在”<strong>客户端</strong>“与”<strong>服务提供商</strong>“之间，设置了一个<strong>授权层</strong>(<code>authorization layer</code>)。”<strong>客户端</strong>“不能直接登录”<strong>服务提供商</strong>“，只能登录<strong>授权层</strong>，以此将用户与客户端区分开来。”<strong>客户端</strong>“登录<strong>授权层</strong>所用的<strong>令牌</strong>(<code>token</code>)，与用户的密码不同。用户可以在登录的时候，指定授权层令牌的权限范围和有效期。<br>“客户端”登录授权层以后，”服务提供商”根据令牌的<strong>权限范围</strong>和<strong>有效期</strong>，向”<strong>客户端</strong>“开放用户储存的资料。</p>
<h2 id="具体流程"><a href="#具体流程" class="headerlink" title="具体流程"></a>具体流程</h2><p><img src="http://ols3fdyll.bkt.clouddn.com/oauth_details_steps.png" alt=""></p>
<pre><code>(A). 用户打开客户端以后，客户端要求用户给予授权。
(B). 用户同意给予客户端授权。
(C). 客户端拿到上一步获取到的授权，向认证服务器申请令牌。
(D). 认证服务器对客户端进行认证以后，确认无误，统一发放令牌。
(E). 客户端使用令牌，向资源服务器申请获取用户的资源。
(F). 资源服务器确认令牌无误，同意向客户端开放资源。
</code></pre><p>不难看出来，上面<strong>六个步骤</strong>之中，步骤<code>(B)</code>是关键，即用户怎样才能给于客户端授权。有了这个<strong>授权</strong>以后，客户端就可以获取<strong>令牌</strong>，进而凭<strong>令牌</strong>获取<strong>资源</strong>。</p>
<h2 id="几种授权模式"><a href="#几种授权模式" class="headerlink" title="几种授权模式"></a>几种授权模式</h2><p>客户端必须得到了用户的<strong>授权</strong>。(<code>authorization grant</code>)，才能获取<strong>令牌</strong>(<code>access token</code>)。<code>OAuth 2.0</code>定义了四种授权方式。</p>
<ul>
<li><strong>授权码模式(authorization code)</strong></li>
<li><strong>简化模式(implicit)</strong></li>
<li><strong>密码模式(resource owner password credentials)</strong></li>
<li><strong>客户端模式(client credentials)</strong></li>
</ul>
<p>下面一一讲解客户端获取<strong>授权</strong>的<strong>四种模式</strong>。</p>
<h4 id="一-授权码模式"><a href="#一-授权码模式" class="headerlink" title="(一). 授权码模式"></a>(一). 授权码模式</h4><p><strong>授权码模式</strong>(<code>authorization code</code>)是<strong>功能最完整</strong>、<strong>流程最严密</strong>的<strong>授权模式</strong>。它的特点就是通过<strong>客户端</strong>的<strong>后台服务器</strong>，与”<strong>服务提供商</strong>“的<strong>认证服务器</strong>进行互动。</p>
<p><img src="http://ols3fdyll.bkt.clouddn.com/authorization_code_mode.png" alt=""></p>
<p>它的步骤如下：</p>
<pre><code>(A). 用户访问客户端，后者将前者导向认证服务器。
(B). 用户选择是否给予客户端授权。
(C). 假设用户给予授权，认证服务器将用户导向客户端事先指定的&quot;重定向URI&quot;(redirection URI)，同时附上一个授权码。
(D). 客户端收到授权码，附上早先的&quot;重定向URI&quot;，向认证服务器申请令牌。这一步是在客户端的后台的服务器上完成的，对用户不可见。
(E). 认证服务器核对了授权码和重定向URI，确认无误后，向客户端发送访问令牌(access token)和更新令牌(refresh token)。
</code></pre><p>对于每个步骤具体所需要参数如下：</p>
<p><strong>A步骤中，客户端申请认证的URI，包含以下参数：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>具体含义</th>
<th>是否必填</th>
</tr>
</thead>
<tbody>
<tr>
<td>response_type</td>
<td>授权类型</td>
<td>必选项，此处的值固定为”code”</td>
</tr>
<tr>
<td>client_id</td>
<td>客户端的ID</td>
<td>必选项</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>重定向URI</td>
<td>可选项</td>
</tr>
<tr>
<td>scope</td>
<td>申请的权限范围</td>
<td>可选项</td>
</tr>
<tr>
<td>state</td>
<td>客户端的当前状态，认证服务器会原封不动地返回这个值</td>
<td>可选项，可以指定任意值</td>
</tr>
</tbody>
</table>
<p>下面是一个例子：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GET /authorize?response_type=code&amp;client_id=s6BhdRkqt3&amp;state=xyz</span><br><span class="line">        &amp;redirect_uri=https%<span class="number">3</span>A%<span class="number">2</span>F%<span class="number">2</span>Fclient%<span class="number">2</span>Eexample%<span class="number">2</span>Ecom%<span class="number">2</span>Fcb HTTP/<span class="number">1.1</span></span><br><span class="line">Host: server.example.com</span><br></pre></td></tr></table></figure></p>
<p><strong>C步骤中，服务器回应客户端的URI，包含以下参数：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th style="text-align:center">具体含义</th>
<th>是否必填</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td style="text-align:center">授权码。该码的有效期应该很短，通常设为10分钟，客户端只能使用该码一次，否则会被授权服务器拒绝。该码与客户端ID和重定向URI，是一一对应关系</td>
<td>必选项</td>
</tr>
<tr>
<td>state</td>
<td style="text-align:center">如果客户端的请求中包含这个参数，认证服务器的回应也必须一模一样包含这个参数。</td>
<td>可选项</td>
</tr>
</tbody>
</table>
<p>下面是一个例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">HTTP/<span class="number">1.1</span> <span class="number">302</span> Found</span><br><span class="line">Location: https:<span class="comment">//client.example.com/cb?code=SplxlOBeZQQYbYS6WxSbIA&amp;state=xyz</span></span><br></pre></td></tr></table></figure>
<p><strong>D步骤中，客户端向认证服务器申请令牌的HTTP请求，包含以下参数：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>具体含义</th>
<th>是否必填</th>
</tr>
</thead>
<tbody>
<tr>
<td>grant_type</td>
<td>授权模式</td>
<td>必选项，此处的值固定为”authorization_code”</td>
</tr>
<tr>
<td>code</td>
<td>上一步获得的授权码</td>
<td>必选项</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>重定向URI</td>
<td>必选项，且必须与A步骤中的该参数值保持一致</td>
</tr>
<tr>
<td>client_id</td>
<td>客户端ID</td>
<td>必选项</td>
</tr>
</tbody>
</table>
<p>下面是一个例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">POST /token HTTP/<span class="number">1.1</span></span><br><span class="line">Host: server.example.com</span><br><span class="line">Authorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW</span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line"></span><br><span class="line">grant_type=authorization_code&amp;code=SplxlOBeZQQYbYS6WxSbIA</span><br><span class="line">&amp;redirect_uri=https%<span class="number">3</span>A%<span class="number">2</span>F%<span class="number">2</span>Fclient%<span class="number">2</span>Eexample%<span class="number">2</span>Ecom%<span class="number">2</span>Fcb</span><br></pre></td></tr></table></figure>
<p><strong>E步骤中，认证服务器发送的HTTP回复，包含以下参数：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>具体含义</th>
<th>是否必填</th>
</tr>
</thead>
<tbody>
<tr>
<td>access_token</td>
<td>访问令牌</td>
<td>必选项</td>
</tr>
<tr>
<td>token_type</td>
<td>牌类型，该值大小写不敏感</td>
<td>必选项，可以是bearer类型或mac类型</td>
</tr>
<tr>
<td>expires_in</td>
<td>过期时间，单位为秒。如果省略该参数，必须其他方式设置过期时间</td>
<td>可选项</td>
</tr>
<tr>
<td>refresh_token</td>
<td>更新令牌，用来获取下一次的访问令牌</td>
<td>可选项</td>
</tr>
<tr>
<td>scope</td>
<td>申请的权限范围</td>
<td>可选项</td>
</tr>
</tbody>
</table>
<p>下面是一个例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">HTTP/<span class="number">1.1</span> <span class="number">200</span> OK</span><br><span class="line">Content-Type: application/json;charset=UTF<span class="number">-8</span></span><br><span class="line">Cache-Control: no-store</span><br><span class="line">Pragma: no-cache</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"access_token"</span>:<span class="string">"2YotnFZFEjr1zCsicMWpAA"</span>,</span><br><span class="line">  <span class="string">"token_type"</span>:<span class="string">"bearer"</span>,</span><br><span class="line">  <span class="string">"expires_in"</span>:<span class="number">3600</span>,</span><br><span class="line">  <span class="string">"refresh_token"</span>:<span class="string">"tGzv3JOkF0XG5Qx2TlKWIA"</span>,</span><br><span class="line">  <span class="string">"example_parameter"</span>:<span class="string">"example_value"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>从上面代码可以看到，相关参数使用<code>JSON</code>格式发送(<code>Content-Type: application/json</code>)。此外，<code>HTTP</code>头信息中明确指定<strong>不得缓存</strong>。</p>
<h4 id="二-简化模式"><a href="#二-简化模式" class="headerlink" title="(二). 简化模式"></a>(二). 简化模式</h4><p><strong>简化模式</strong>(<code>implicit grant type</code>)不通过<strong>第三方</strong>应用程序的服务器，直接在<strong>浏览器</strong>中向<strong>认证服务器</strong>申请<strong>令牌</strong>，跳过了”<strong>授权码</strong>“这个步骤，因此得名。所有步骤在浏览器中完成，令牌对访问者是可见的，且客户端不需要认证。</p>
<p><img src="http://ols3fdyll.bkt.clouddn.com/implicit_mode.png" alt=""></p>
<p>它的步骤如下：</p>
<pre><code>(A). 客户端将用户导向认证服务器。
(B). 用户决定是否给于客户端授权。
(C). 假设用户给予授权，认证服务器将用户导向客户端指定的&quot;重定向URI&quot;，并在URI的Hash部分包含了访问令牌。
(D). 浏览器向资源服务器发出请求，其中不包括上一步收到的Hash值。
(E). 资源服务器返回一个网页，其中包含的代码可以获取Hash值中的令牌。
(F). 浏览器执行上一步获得的脚本，提取出令牌。
(G). 浏览器将令牌发给客户端。
</code></pre><p>下面是上面这些步骤所需要的参数：</p>
<p><strong>A步骤中，客户端发出的HTTP请求，包含以下参数：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>具体含义</th>
<th>是否必填</th>
</tr>
</thead>
<tbody>
<tr>
<td>response_type</td>
<td>授权类型</td>
<td>必选项，此处的值固定为”token”</td>
</tr>
<tr>
<td>client_id</td>
<td>客户端的ID</td>
<td>必选项</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>重定向URI</td>
<td>可选项</td>
</tr>
<tr>
<td>scope</td>
<td>申请的权限范围</td>
<td>可选项</td>
</tr>
<tr>
<td>state</td>
<td>客户端的当前状态，认证服务器会原封不动地返回这个值</td>
<td>可选项，可以指定任意值</td>
</tr>
</tbody>
</table>
<p>下面是一个例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GET /authorize?response_type=token&amp;client_id=s6BhdRkqt3&amp;state=xyz</span><br><span class="line">    &amp;redirect_uri=https%<span class="number">3</span>A%<span class="number">2</span>F%<span class="number">2</span>Fclient%<span class="number">2</span>Eexample%<span class="number">2</span>Ecom%<span class="number">2</span>Fcb HTTP/<span class="number">1.1</span></span><br><span class="line">Host: server.example.com</span><br></pre></td></tr></table></figure>
<p><strong>C步骤中，认证服务器回应客户端的URI，包含以下参数：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>具体含义</th>
<th>是否必填</th>
</tr>
</thead>
<tbody>
<tr>
<td>access_token</td>
<td>访问令牌</td>
<td>必选项</td>
</tr>
<tr>
<td>token_type</td>
<td>牌类型，该值大小写不敏感</td>
<td>必选项</td>
</tr>
<tr>
<td>expires_in</td>
<td>过期时间，单位为秒。如果省略该参数，必须其他方式设置过期时间</td>
<td>可选项</td>
</tr>
<tr>
<td>scope</td>
<td>权限范围</td>
<td>如果与客户端申请的范围一致，此项可省略</td>
</tr>
<tr>
<td>state</td>
<td>如果客户端的请求中包含这个参数，认证服务器的回应也必须一模一样包含这个参数</td>
<td>可选项</td>
</tr>
</tbody>
</table>
<p>下面是一个例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HTTP/<span class="number">1.1</span> <span class="number">302</span> Found</span><br><span class="line">Location: http:<span class="comment">//example.com/cb#access_token=2YotnFZFEjr1zCsicMWpAA</span></span><br><span class="line">          &amp;state=xyz&amp;token_type=example&amp;expires_in=<span class="number">3600</span></span><br></pre></td></tr></table></figure>
<p>下面是一个例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HTTP/<span class="number">1.1</span> <span class="number">302</span> Found</span><br><span class="line">Location: http:<span class="comment">//example.com/cb#access_token=2YotnFZFEjr1zCsicMWpAA</span></span><br><span class="line">          &amp;state=xyz&amp;token_type=bearer&amp;expires_in=<span class="number">3600</span></span><br></pre></td></tr></table></figure>
<p>在上面的例子中，认证服务器用<code>HTTP</code>头信息的<code>Location</code>栏，指定<strong>浏览器重定向</strong>的网址。注意，在这个网址的<code>Hash</code>部分包含了<strong>令牌</strong>。<br>根据上面的<code>D</code>步骤，下一步浏览器会访问<code>Location</code>指定的网址，但是<code>Hash</code>部分不会发送。<br>接下来的<code>E</code>步骤，服务提供商的<strong>资源服务器</strong>发送过来的<strong>脚本代码</strong>，会提取出<code>Hash</code>中的<strong>令牌</strong>。</p>
<h4 id="三-密码模式"><a href="#三-密码模式" class="headerlink" title="(三). 密码模式"></a>(三). 密码模式</h4><p><strong>密码模式</strong>(<code>Resource Owner Password Credentials Grant</code>)中，用户向客户端提供自己的<strong>用户名</strong>和<strong>密码</strong>。客户端使用这些信息，向”<strong>服务商提供商</strong>“索要<strong>授权</strong>。</p>
<p>在这种模式中，用户必须把自己的<strong>密码</strong>给客户端，但是<strong>客户端不得储存密码</strong>。这通常用在<strong>用户</strong>对<strong>客户端高度信任</strong>的情况下，比如客户端是操作系统的一部分，或者由一个著名公司出品。而认证服务器只有在其他授权模式无法执行的情况下，才能考虑使用这种模式。</p>
<p><img src="http://ols3fdyll.bkt.clouddn.com/crediential_grant_mode.png" alt=""></p>
<p>它的步骤如下：</p>
<pre><code>(A). 用户向客户端提供用户名和密码。
(B). 客户端将用户名和密码发给认证服务器，向后者请求令牌。
(C). 认证服务器确认无误后，向客户端提供访问令牌。
</code></pre><p><strong>B步骤中，客户端发出的HTTP请求，包含以下参数：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>具体含义</th>
<th>是否必填</th>
</tr>
</thead>
<tbody>
<tr>
<td>grant_type</td>
<td>授权类型</td>
<td>必选项，此处的值固定为”password”</td>
</tr>
<tr>
<td>username</td>
<td>用户名</td>
<td>必选项</td>
</tr>
<tr>
<td>password</td>
<td>用户的密码</td>
<td>必选项</td>
</tr>
<tr>
<td>scope</td>
<td>申请的权限范围</td>
<td>可选项</td>
</tr>
</tbody>
</table>
<p>下面是一个例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">POST /token HTTP/<span class="number">1.1</span></span><br><span class="line">Host: server.example.com</span><br><span class="line">Authorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW</span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line"></span><br><span class="line">grant_type=password&amp;username=johndoe&amp;password=A3ddj3w</span><br></pre></td></tr></table></figure>
<p><strong>C步骤中，认证服务器向客户端发送访问令牌：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>具体含义</th>
<th>是否必填</th>
</tr>
</thead>
<tbody>
<tr>
<td>access_token</td>
<td>访问令牌</td>
<td>必选项</td>
</tr>
<tr>
<td>token_type</td>
<td>牌类型，该值大小写不敏感</td>
<td>必选项</td>
</tr>
<tr>
<td>expires_in</td>
<td>过期时间，单位为秒。如果省略该参数，必须其他方式设置过期时间</td>
<td>可选项</td>
</tr>
<tr>
<td>scope</td>
<td>权限范围</td>
<td>如果与客户端申请的范围一致，此项可省略</td>
</tr>
<tr>
<td>example_parameter</td>
<td>如果客户端的请求中包含这个参数，认证服务器的回应也必须一模一样包含这个参数</td>
<td>可选项</td>
</tr>
</tbody>
</table>
<p>下面是一个例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">HTTP/<span class="number">1.1</span> <span class="number">200</span> OK</span><br><span class="line">Content-Type: application/json;charset=UTF<span class="number">-8</span></span><br><span class="line">Cache-Control: no-store</span><br><span class="line">Pragma: no-cache</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"access_token"</span>:<span class="string">"2YotnFZFEjr1zCsicMWpAA"</span>,</span><br><span class="line">  <span class="string">"token_type"</span>:<span class="string">"example"</span>,</span><br><span class="line">  <span class="string">"expires_in"</span>:<span class="number">3600</span>,</span><br><span class="line">  <span class="string">"refresh_token"</span>:<span class="string">"tGzv3JOkF0XG5Qx2TlKWIA"</span>,</span><br><span class="line">  <span class="string">"example_parameter"</span>:<span class="string">"example_value"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="四-客户端模式"><a href="#四-客户端模式" class="headerlink" title="(四). 客户端模式"></a>(四). 客户端模式</h4><p><strong>客户端模式</strong>(<code>Client Credentials Grant</code>)指<strong>客户端</strong>以自己的名义，而不是以<strong>用户</strong>的名义，向”<strong>服务提供商</strong>“进行认证。严格地说，客户端模式并不属于OAuth框架所要解决的问题。</p>
<p>在这种模式中，<strong>用户</strong>直接向<strong>客户端注册</strong>，<strong>客户端</strong>以自己的名义要求”<strong>服务提供商</strong>“提供服务，其实不存在授权问题。</p>
<p><img src="http://ols3fdyll.bkt.clouddn.com/client_mode.png" alt=""></p>
<p>它的步骤如下：</p>
<pre><code>(A). 客户端向认证服务器进行身份认证，并要求一个访问令牌。
(B). 认证服务器确认无误后，向客户端提供访问令牌。
</code></pre><p><strong>A步骤中，客户端发出的HTTP请求，包含以下参数：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>具体含义</th>
<th>是否必填</th>
</tr>
</thead>
<tbody>
<tr>
<td>grant_type</td>
<td>授权类型</td>
<td>必选项，此处的值固定为”clientcredentials”</td>
</tr>
<tr>
<td>scope</td>
<td>权限范围</td>
<td>可选项。</td>
</tr>
</tbody>
</table>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">POST /token HTTP/<span class="number">1.1</span></span><br><span class="line">Host: server.example.com</span><br><span class="line">Authorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW</span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line"></span><br><span class="line">grant_type=client_credentials</span><br></pre></td></tr></table></figure>
<p>认证服务器必须以某种方式，验证客户端身份。</p>
<p><strong>B步骤中，认证服务器向客户端发送访问令牌，下面是一个例子：</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">HTTP/<span class="number">1.1</span> <span class="number">200</span> OK</span><br><span class="line">Content-Type: application/json;charset=UTF<span class="number">-8</span></span><br><span class="line">Cache-Control: no-store</span><br><span class="line">Pragma: no-cache</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"access_token"</span>:<span class="string">"2YotnFZFEjr1zCsicMWpAA"</span>,</span><br><span class="line">  <span class="string">"token_type"</span>:<span class="string">"example"</span>,</span><br><span class="line">  <span class="string">"expires_in"</span>:<span class="number">3600</span>,</span><br><span class="line">  <span class="string">"example_parameter"</span>:<span class="string">"example_value"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>本文介绍了<code>OAuth 2.0</code>的一些基本概念，以及四种授权模式：授权码模式、简单模式、密码模式和客户端模式。o</p>
<hr>
<p>欢迎扫码关注我的个人技术公众号： 零壹技术栈</p>
<p><img src="http://upload-images.jianshu.io/upload_images/10548396-035e78bdc34c7525?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>本帐号将持续分享后端技术干货，包括虚拟机基础，多线程编程，高性能框架，异步、缓存和消息中间件，分布式和微服务，架构学习和进阶等学习资料和文章。</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://ostenant.coding.me/2018/01/04/深入浅出OAuth 2.0授权机制/" data-id="cjhtxvrvy0039fn4uuxehf1qy" class="article-share-link" data-share="baidu" data-title="深入浅出OAuth 2.0授权机制">分享到</a>
      

      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OAuth-2-0/">OAuth 2.0</a></li></ul>

    </footer>
	
  
    
<nav id="article-nav">
  
    <a href="/2018/01/08/Apache Thrift系列详解(一) - 概述与入门/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">
        
          Apache Thrift系列详解(一) - 概述与入门
        
      </div>
    </a>
  
  
    <a href="/2017/12/31/Java NIO系列(四) - Selector/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">Java NIO系列(四) - Selector</div>
    </a>
  
</nav>

  
</article>








</section>
      
      <aside id="sidebar">
  
    
<div class="widget-wrap">
  <h3 class="widget-title">关于我</h3>
  <ul class="widget about-me">
    
    <li><img class="author" title="About me" src="/img/favicon.png" /></li>
    
    
    <li>ostenant@163.com</li>
    
    <li>一枚热爱生活，追逐自由的小技术！</li>
    
  </ul>
</div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Docker学习系列/">Docker学习系列</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ECMAScript基础系列/">ECMAScript基础系列</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JAVA编程进阶系列/">JAVA编程进阶系列</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JAVA虚拟机系列/">JAVA虚拟机系列</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JAVA设计模式系列/">JAVA设计模式系列</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JDK1-8编程系列/">JDK1.8编程系列</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java编程基础系列/">Java编程基础系列</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java编程进阶系列/">Java编程进阶系列</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java虚拟机系列/">Java虚拟机系列</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/RPC通信框架系列/">RPC通信框架系列</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/RxJava异步框架系列/">RxJava异步框架系列</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Boot-2-0系列/">Spring Boot 2.0系列</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Boot-2-0系列/Spring-Reactive编程系列/">Spring Reactive编程系列</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Reactive编程系列/">Spring Reactive编程系列</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/分布式系列/">分布式系列</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/微服务系列/">微服务系列</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/架构学习系列/">架构学习系列</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络协议系列/">网络协议系列</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/认证与授权系列/">认证与授权系列</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/2PC/">2PC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/3PC/">3PC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Adapter/">Adapter</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Apache/">Apache</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BASE/">BASE</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Builder/">Builder</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CAP/">CAP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CentOS/">CentOS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Consul/">Consul</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Consul-template/">Consul-template</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/">Docker</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ECMAScript/">ECMAScript</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/">HTTP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTPS/">HTTPS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JDK/">JDK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JDK1-8/">JDK1.8</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/">JVM</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NIO/">NIO</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/">Nginx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OAuth-2-0/">OAuth 2.0</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Prototype/">Prototype</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RPC/">RPC</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Reactive-Streams/">Reactive Streams</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Reactor/">Reactor</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Reference/">Reference</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Registrator/">Registrator</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RxJava/">RxJava</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SOFA-Boot/">SOFA-Boot</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SOFA-RPC/">SOFA-RPC</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SOFA-RPC/">SOFA_RPC</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Singleton/">Singleton</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Boot-2-0/">Spring Boot 2.0</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Cloud/">Spring Cloud</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-WebFlux/">Spring WebFlux</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TCP/">TCP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Thrift/">Thrift</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unique-ID/">Unique ID</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web/">Web</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebSocket/">WebSocket</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分布式/">分布式</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/异步/">异步</a><span class="tag-list-count">3</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/2PC/" style="font-size: 10px;">2PC</a> <a href="/tags/3PC/" style="font-size: 10px;">3PC</a> <a href="/tags/Adapter/" style="font-size: 10px;">Adapter</a> <a href="/tags/Android/" style="font-size: 13.33px;">Android</a> <a href="/tags/Apache/" style="font-size: 13.33px;">Apache</a> <a href="/tags/BASE/" style="font-size: 10px;">BASE</a> <a href="/tags/Builder/" style="font-size: 10px;">Builder</a> <a href="/tags/CAP/" style="font-size: 10px;">CAP</a> <a href="/tags/CentOS/" style="font-size: 10px;">CentOS</a> <a href="/tags/Consul/" style="font-size: 11.67px;">Consul</a> <a href="/tags/Consul-template/" style="font-size: 10px;">Consul-template</a> <a href="/tags/Docker/" style="font-size: 13.33px;">Docker</a> <a href="/tags/ECMAScript/" style="font-size: 11.67px;">ECMAScript</a> <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/HTTPS/" style="font-size: 10px;">HTTPS</a> <a href="/tags/JDK/" style="font-size: 10px;">JDK</a> <a href="/tags/JDK1-8/" style="font-size: 11.67px;">JDK1.8</a> <a href="/tags/JVM/" style="font-size: 15px;">JVM</a> <a href="/tags/Java/" style="font-size: 18.33px;">Java</a> <a href="/tags/NIO/" style="font-size: 15px;">NIO</a> <a href="/tags/Nginx/" style="font-size: 10px;">Nginx</a> <a href="/tags/OAuth-2-0/" style="font-size: 10px;">OAuth 2.0</a> <a href="/tags/Prototype/" style="font-size: 10px;">Prototype</a> <a href="/tags/RPC/" style="font-size: 20px;">RPC</a> <a href="/tags/Reactive-Streams/" style="font-size: 11.67px;">Reactive Streams</a> <a href="/tags/Reactor/" style="font-size: 10px;">Reactor</a> <a href="/tags/Reference/" style="font-size: 10px;">Reference</a> <a href="/tags/Registrator/" style="font-size: 10px;">Registrator</a> <a href="/tags/RxJava/" style="font-size: 13.33px;">RxJava</a> <a href="/tags/SOFA-Boot/" style="font-size: 13.33px;">SOFA-Boot</a> <a href="/tags/SOFA-RPC/" style="font-size: 11.67px;">SOFA-RPC</a> <a href="/tags/SOFA-RPC/" style="font-size: 11.67px;">SOFA_RPC</a> <a href="/tags/Singleton/" style="font-size: 10px;">Singleton</a> <a href="/tags/Spring-Boot-2-0/" style="font-size: 10px;">Spring Boot 2.0</a> <a href="/tags/Spring-Cloud/" style="font-size: 11.67px;">Spring Cloud</a> <a href="/tags/Spring-WebFlux/" style="font-size: 11.67px;">Spring WebFlux</a> <a href="/tags/TCP/" style="font-size: 10px;">TCP</a> <a href="/tags/Thrift/" style="font-size: 16.67px;">Thrift</a> <a href="/tags/Unique-ID/" style="font-size: 10px;">Unique ID</a> <a href="/tags/Web/" style="font-size: 10px;">Web</a> <a href="/tags/WebSocket/" style="font-size: 10px;">WebSocket</a> <a href="/tags/分布式/" style="font-size: 15px;">分布式</a> <a href="/tags/异步/" style="font-size: 13.33px;">异步</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">3</span></li></ul>
    </div>
  </div>

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/05/27/实战Spring Boot 2.0 Reactive编程系列(一) - WebFlux初体验/">实战Spring Boot 2.0 Reactive编程系列(一) - WebFlux初体验</a>
          </li>
        
          <li>
            <a href="/2018/05/26/聊聊Spring Reactor反应式编程/">聊聊Spring Reactor反应式编程</a>
          </li>
        
          <li>
            <a href="/2018/05/23/Android异步框架RxJava 1.x系列(三) - 线程调度器Scheduler/">Android异步框架RxJava 1.x系列(三) - 线程调度器Scheduler</a>
          </li>
        
          <li>
            <a href="/2018/05/21/Android异步框架RxJava 1.x系列(二) - 事件及事件序列转换原理/">Android异步框架RxJava 1.x系列(二) - 事件及事件序列转换原理</a>
          </li>
        
          <li>
            <a href="/2018/05/20/Android异步框架RxJava 1.x系列(一) - 观察者模式及实现/">Android异步框架RxJava 1.x系列(一) - 观察者模式及实现</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">友情链接</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="http://weekly.manong.io/issues" target="_blank">码农周刊</a>
          </li>
        
          <li>
            <a href="https://www.tuicool.com/mags" target="_blank">编程狂人</a>
          </li>
        
          <li>
            <a href="http://ifeve.com" target="_blank">并发编程网</a>
          </li>
        
          <li>
            <a href="https://juejin.im" target="_blank">掘金</a>
          </li>
        
          <li>
            <a href="http://www.jianshu.com" target="_blank">简书</a>
          </li>
        
          <li>
            <a href="https://github.com" target="_blank">Github</a>
          </li>
        
          <li>
            <a href="https://stackoverflow.com" target="_blank">StackoverFlow</a>
          </li>
        
          <li>
            <a href="http://www.infoq.com" target="_blank">Infoq</a>
          </li>
        
          <li>
            <a href="https://segmentfault.com" target="_blank">SegmentFault</a>
          </li>
        
          <li>
            <a href="http://www.importnew.com" target="_blank">ImportNew</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Chen Harrison<br>
      Powered by <a href="//hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape-plus</a>
    </div>
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">主页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="https://github.com/ostenant" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
</nav>
  <!-- totop start -->
<div id="totop">
<a title="返回顶部"><img src="/img/scrollup.png"/></a>
</div>

<!-- totop end -->

<!--

-->



   

<!-- 百度分享 start -->

<div id="article-share-box" class="article-share-box">
  <div id="bdshare" class="bdsharebuttonbox article-share-links">
    <a class="article-share-weibo" data-cmd="tsina" title="分享到新浪微博"></a>
    <a class="article-share-weixin" data-cmd="weixin" title="分享到微信"></a>
    <a class="article-share-qq" data-cmd="sqq" title="分享到QQ"></a>
    <a class="article-share-renren" data-cmd="renren" title="分享到人人网"></a>
    <a class="article-share-more" data-cmd="more" title="更多"></a>
  </div>
</div>
<script>
  function SetShareData(cmd, config) {
    if (shareDataTitle && shareDataUrl) {
      config.bdText = shareDataTitle;
      config.bdUrl = shareDataUrl;
    }
    return config;
  }
  window._bd_share_config={
    "common":{onBeforeClick: SetShareData},
    "share":{"bdCustomStyle":"/css/bdshare.css"}
  };
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

<!-- 百度分享 end -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>



<! -- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
                processEscapes: true
                    
}
  
        });
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
                  
}
    
        });
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Queue(function() {
            var all = MathJax.Hub.getAllJax(), i;
            for(i=0; i < all.length; i += 1) {
                            all[i].SourceElement().parentNode.className += ' has-jax';
                                    
            }
                
        });
</script>

<script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.5.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<script src="/js/script.js"></script>


</div>
</body>
</html>
